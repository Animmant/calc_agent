# üßÆ Calculator Agent

–Ü–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω–∏–π –∞–≥–µ–Ω—Ç –¥–ª—è –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º LangGraph —Ç–∞ Google Gemini API.

## üìã –û–ø–∏—Å

Calculator Agent - —Ü–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É ReAct (Reasoning + Acting) –¥–ª—è —Ä–æ–∑–≤'—è–∑–∞–Ω–Ω—è –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏—Ö –∑–∞–¥–∞—á. –ê–≥–µ–Ω—Ç –º–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —è–∫ –ø—Ä–æ—Å—Ç—ñ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó, —Ç–∞–∫ —ñ –Ω–∞–¥–∞–≤–∞—Ç–∏ –ø–æ—Ä–∞–¥–∏ —â–æ–¥–æ —Å–∫–ª–∞–¥–Ω—ñ—à–∏—Ö –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏—Ö –∑–∞–¥–∞—á.

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

```
src/
‚îú‚îÄ‚îÄ agent/
‚îÇ   ‚îú‚îÄ‚îÄ agent_executor.py    # –õ–æ–≥—ñ–∫–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∞–≥–µ–Ω—Ç–∞ (LangGraph)
‚îÇ   ‚îú‚îÄ‚îÄ state.py            # –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Å—Ç–∞–Ω—É –∞–≥–µ–Ω—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ tools/
‚îÇ       ‚îî‚îÄ‚îÄ calculator.py   # –ú–∞—Ç–µ–º–∞—Ç–∏—á–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ settings.py         # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è, –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è API –∫–ª—é—á—ñ–≤
‚îú‚îÄ‚îÄ cli/
‚îÇ   ‚îî‚îÄ‚îÄ REPL.py            # Read-Eval-Print Loop –¥–ª—è –∫–æ–Ω—Å–æ–ª—ñ
‚îî‚îÄ‚îÄ utils/
    ‚îî‚îÄ‚îÄ logger_config.py   # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ª–æ–≥—É–≤–∞–Ω–Ω—è
```

## üöÄ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### 1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è API –∫–ª—é—á–∞

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É:

```env
GOOGLE_API_KEY=your_google_api_key_here
```

**–î–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ Google API –∫–ª—é—á:**
- –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://aistudio.google.com/app/apikey
- –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π API –∫–ª—é—á
- –°–∫–æ–ø—ñ—é–π—Ç–µ –π–æ–≥–æ –≤ —Ñ–∞–π–ª `.env`

### 3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å

```bash
python test_simple.py
```

## üéØ –ó–∞–ø—É—Å–∫

### –û—Å–Ω–æ–≤–Ω–∏–π —Ä–µ–∂–∏–º

```bash
python main.py
```

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤

```bash
python tests/agent/tools/test_calculator.py
```

### –ü—Ä—è–º–∏–π –∑–∞–ø—É—Å–∫ REPL

```bash
python src/cli/REPL.py
```

## üõ†Ô∏è –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å

### –ë–∞–∑–æ–≤–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä

- ‚úÖ –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó: `+`, `-`, `*`, `/`, `**`
- ‚úÖ –î—É–∂–∫–∏ –¥–ª—è –∑–º—ñ–Ω–∏ –ø–æ—Ä—è–¥–∫—É –æ–ø–µ—Ä–∞—Ü—ñ–π
- ‚úÖ –î–µ—Å—è—Ç–∫–æ–≤—ñ —á–∏—Å–ª–∞
- ‚úÖ –í—ñ–¥'—î–º–Ω—ñ —á–∏—Å–ª–∞
- ‚úÖ –ë–µ–∑–ø–µ—á–Ω–µ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è (–±–µ–∑ eval)

**–ü—Ä–∏–∫–ª–∞–¥–∏:**
```
2 + 3 * 4        ‚Üí 14
(2 + 3) * 4      ‚Üí 20
2 ** 3           ‚Üí 8
3.14 * 2         ‚Üí 6.28
```

### –†–æ–∑—à–∏—Ä–µ–Ω–∏–π —Ä–æ–∑–≤'—è–∑—É–≤–∞—á

- ‚úÖ –ü–æ—Ä–∞–¥–∏ —â–æ–¥–æ –∫–≤–∞–¥—Ä–∞—Ç–Ω–∏—Ö –∫–æ—Ä–µ–Ω—ñ–≤
- ‚úÖ –û–±—á–∏—Å–ª–µ–Ω–Ω—è –≤—ñ–¥—Å–æ—Ç–∫—ñ–≤
- ‚úÖ –§–æ—Ä–º—É–ª–∏ –ø–ª–æ—â –≥–µ–æ–º–µ—Ç—Ä–∏—á–Ω–∏—Ö —Ñ—ñ–≥—É—Ä
- ‚úÖ –†–æ–∑—à–∏—Ä—é–≤–∞–Ω–∏–π –¥–ª—è –Ω–æ–≤–∏—Ö —Ç–∏–ø—ñ–≤ –∑–∞–¥–∞—á

**–ü—Ä–∏–∫–ª–∞–¥–∏:**
```
"–∫–≤–∞–¥—Ä–∞—Ç–Ω–∏–π –∫–æ—Ä—ñ–Ω—å –∑ 25"     ‚Üí –ü–æ—Ä–∞–¥–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ 25 ** 0.5
"15% –≤—ñ–¥ 100"                ‚Üí –ü–æ—Ä–∞–¥–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ 100 * 0.15
"–ø–ª–æ—â–∞ –∫—Ä—É–≥–∞"                ‚Üí –§–æ—Ä–º—É–ª–∞ œÄ * r¬≤
```

## üí¨ –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π —Ä–µ–∂–∏–º

```
ü§ñ –ê–≥–µ–Ω—Ç: –ü—Ä–∏–≤—ñ—Ç! –Ø –≥–æ—Ç–æ–≤–∏–π –¥–æ–ø–æ–º–æ–≥—Ç–∏ –∑ –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏–º–∏ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è–º–∏.

üë§ –í–∏: —Å–∫—ñ–ª—å–∫–∏ –±—É–¥–µ 2+2*3?

ü§ñ –ê–≥–µ–Ω—Ç: –î–∞–≤–∞–π—Ç–µ –æ–±—á–∏—Å–ª–∏–º–æ 2+2*3.

[–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é basic_calculator –∑ –≤–∏—Ä–∞–∑–æ–º "2+2*3"]

–†–µ–∑—É–ª—å—Ç–∞—Ç: 8

–¶–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –æ—Å–∫—ñ–ª—å–∫–∏ —Å–ø–æ—á–∞—Ç–∫—É –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –º–Ω–æ–∂–µ–Ω–Ω—è (2*3=6), –∞ –ø–æ—Ç—ñ–º –¥–æ–¥–∞–≤–∞–Ω–Ω—è (2+6=8).
```

### –°–∫–ª–∞–¥–Ω—ñ –∑–∞–¥–∞—á—ñ

```
üë§ –í–∏: —è–∫ –∑–Ω–∞–π—Ç–∏ 15% –≤—ñ–¥ 200?

ü§ñ –ê–≥–µ–Ω—Ç: –î–ª—è –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –≤—ñ–¥—Å–æ—Ç–∫—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ basic_calculator. 
–ù–∞–ø—Ä–∏–∫–ª–∞–¥: '200 * 0.15' –¥–ª—è 15% –≤—ñ–¥ 200

[–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é basic_calculator –∑ –≤–∏—Ä–∞–∑–æ–º "200 * 0.15"]

–†–µ–∑—É–ª—å—Ç–∞—Ç: 30

15% –≤—ñ–¥ 200 –¥–æ—Ä—ñ–≤–Ω—é—î 30.
```

## üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### –ë–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å

- **–ë–µ–∑–ø–µ—á–Ω–∏–π –ø–∞—Ä—Å–µ—Ä –≤–∏—Ä–∞–∑—ñ–≤**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î AST –∑–∞–º—ñ—Å—Ç—å `eval()`
- **–û–±–º–µ–∂–µ–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó**: –¢—ñ–ª—å–∫–∏ –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó
- **–í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤–≤–æ–¥—É**: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ –Ω–µ–¥–æ–∑–≤–æ–ª–µ–Ω—ñ —Å–∏–º–≤–æ–ª–∏

### –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –∞–≥–µ–Ω—Ç–∞

- **LangGraph ReAct**: Reasoning + Acting –ø–∞—Ç—Ç–µ—Ä–Ω
- **–°—Ç–∞–Ω –∞–≥–µ–Ω—Ç–∞**: –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —ñ—Å—Ç–æ—Ä—ñ—ó —Ä–æ–∑–º–æ–≤–∏
- **–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏**: –ú–æ–¥—É–ª—å–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π
- **–õ–æ–≥—É–≤–∞–Ω–Ω—è**: –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π

### –†–æ–∑—à–∏—Ä—é–≤–∞–Ω—ñ—Å—Ç—å

–õ–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏:

```python
@tool
def new_math_tool(input: str) -> str:
    """–û–ø–∏—Å –Ω–æ–≤–æ–≥–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É"""
    # –õ–æ–≥—ñ–∫–∞ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É
    return result

# –î–æ–¥–∞—Ç–∏ –¥–æ calculator_tools
calculator_tools.append(new_math_tool)
```

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç—ñ–≤

```
tests/
‚îî‚îÄ‚îÄ agent/
    ‚îî‚îÄ‚îÄ tools/
        ‚îî‚îÄ‚îÄ test_calculator.py    # –¢–µ—Å—Ç–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤

```bash
# –í—Å—ñ —Ç–µ—Å—Ç–∏
python -m pytest tests/

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ç–µ—Å—Ç
python tests/agent/tools/test_calculator.py

# –ü—Ä–æ—Å—Ç–∏–π —Ç–µ—Å—Ç
python test_simple.py
```

### –ü–æ–∫—Ä–∏—Ç—Ç—è —Ç–µ—Å—Ç–∞–º–∏

- ‚úÖ –ë–∞–∑–æ–≤—ñ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó
- ‚úÖ –°–∫–ª–∞–¥–Ω—ñ –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω—ñ –≤–∏—Ä–∞–∑–∏
- ‚úÖ –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
- ‚úÖ –ë–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å eval
- ‚úÖ –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤

## üêõ –í—ñ–¥–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è

### –õ–æ–≥—É–≤–∞–Ω–Ω—è

–õ–æ–≥–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –∫–æ–Ω—Å–æ–ª—ñ –∑ —Ä—ñ–≤–Ω—è–º–∏:
- `INFO`: –ó–∞–≥–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è
- `DEBUG`: –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è
- `ERROR`: –ü–æ–º–∏–ª–∫–∏ –∑ —Ç—Ä–∞—Å—É–≤–∞–Ω–Ω—è–º

### –¢–∏–ø–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏

1. **API –∫–ª—é—á –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ**
   ```
   ‚ùå GOOGLE_API_KEY –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ –≤ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
   ```
   **–†—ñ—à–µ–Ω–Ω—è**: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ñ–∞–π–ª `.env`

2. **–ü–æ–º–∏–ª–∫–∞ —ñ–º–ø–æ—Ä—Ç—É**
   ```
   ModuleNotFoundError: No module named 'src'
   ```
   **–†—ñ—à–µ–Ω–Ω—è**: –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –∑ –∫–æ—Ä–µ–Ω—è –ø—Ä–æ–µ–∫—Ç—É

3. **–ü–æ–º–∏–ª–∫–∞ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è**
   ```
   –ü–æ–º–∏–ª–∫–∞ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è: invalid syntax
   ```
   **–†—ñ—à–µ–Ω–Ω—è**: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–æ–≥–æ –≤–∏—Ä–∞–∑—É

## üìà –ú–∞–π–±—É—Ç–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

- [ ] –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Wolfram Alpha
- [ ] –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Å–∏–º–≤–æ–ª—å–Ω–æ—ó –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏ (SymPy)
- [ ] –ì—Ä–∞—Ñ—ñ—á–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- [ ] –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —ñ—Å—Ç–æ—Ä—ñ—ó –æ–±—á–∏—Å–ª–µ–Ω—å
- [ ] –ï–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
- [ ] –ì–æ–ª–æ—Å–æ–≤–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
- [ ] –†–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è —Ä—É–∫–æ–ø–∏—Å–Ω–∏—Ö —Ñ–æ—Ä–º—É–ª

## ü§ù –í–Ω–µ—Å–æ–∫

1. Fork –ø—Ä–æ–µ–∫—Ç—É
2. –°—Ç–≤–æ—Ä—ñ—Ç—å feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit –∑–º—ñ–Ω–∏ (`git commit -m 'Add some AmazingFeature'`)
4. Push –¥–æ branch (`git push origin feature/AmazingFeature`)
5. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Pull Request

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –ª—ñ—Ü–µ–Ω–∑–æ–≤–∞–Ω–æ –ø—ñ–¥ MIT License - –¥–∏–≤—ñ—Ç—å—Å—è —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üôè –ü–æ–¥—è–∫–∏

- [LangChain](https://langchain.com/) –∑–∞ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- [LangGraph](https://langchain-ai.github.io/langgraph/) –∑–∞ –≥—Ä–∞—Ñ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
- [Google Gemini](https://ai.google.dev/) –∑–∞ LLM API
- –°–ø—ñ–ª—å–Ω–æ—Ç–∞ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤ –∑–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∏–π –∫–æ–¥

---

**–°—Ç–≤–æ—Ä–µ–Ω–æ –∑ ‚ù§Ô∏è –¥–ª—è –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å** 